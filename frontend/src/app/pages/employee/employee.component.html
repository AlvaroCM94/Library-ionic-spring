<div class="container" style="margin-top: 61px;">

  <button class="btn btn-primary" style="margin-right: 5px;" routerLink="/EmpleadoAñadirLibro">Añadir</button>

  <ul class="nav nav-tabs" role="tablist" style="justify-content: center;">

    <li class="nav-item">
      <a class="nav-link active" data-toggle="tab" href="#libro">Libros</a>
    </li>

    <li class="nav-item">
      <a class="nav-link" data-toggle="tab" href="#autor">Autores</a>
    </li>

  </ul>

  <div class="tab-content">

    <div id="libro" class="tab-pane active"><br>

      <script>
        $(document).ready(function(){
          $('#dtBasicExample').DataTable();
        });
      </script>

      <div id="tablaLibro" class="table-responsive">
        <table class="table">

          <thead>
            <tr>
              <th>Config</th>
              <th>Nombre</th>
              <th>Autor</th>
              <th>Genero</th>
              <th>Sinopsis</th>
              <th>Stock</th>
              <th>Imagen</th>
              <th>FKAutor</th>
            </tr>
          </thead> 

          <tbody>
            <tr *ngFor="let book of books; let i = index">
              
              <td>
                <button class="btn btn-warning" style="margin-right: 5px;" data-toggle="modal" [attr.data-target]="'#modal' + i">Editar</button>

                <div class="modal" [attr.id]="'modal' + i">
                  <div class="modal-dialog">
                    <div class="modal-content">
                
                      <div class="modal-header">
                        <h4 class="modal-title">Actualizar libro</h4>
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                      </div>
                
                      <div class="modal-body">
                        <form>

                          <div class="form-group">
                            <label for="nameA">Nombre:</label>
                            <input type="text" class="form-control" id="nameA" name="nameA" value="{{ book.name }}" #nameA required>
                          </div>
          
                          <div class="form-group">
                            <label for="authorA">Autor:</label>
                            <input type="text" class="form-control" id="authorA" name="authorA" value="{{ book.author }}" #authorA required>
                          </div>

                          <div class="form-group">
                            <label for="genreA">Genero:</label>
                            <select class="form-control" id="genreA" name="genreA" value="{{ book.genre }}" #genreA required>
                              <option>Accion</option>
                              <option>Ficcion</option>
                              <option>Comedia</option>
                              <option>Terror</option>
                              <option>Romance</option>
                            </select>
                          </div>
          
                          <div class="form-group">
                            <label for="synopsisA">Sinopsis:</label>
                            <input type="text" class="form-control" id="synopsisA" name="synopsisA" value="{{ book.synopsis }}" #synopsisA required>
                          </div>

                          <div class="form-group">
                            <label for="stockA">Stock:</label>
                            <input type="text" class="form-control" id="stockA" name="stockA" min="1" value="{{ book.stock }}" #stockA required>
                          </div>
          
                          <div class="form-group">
                            <label for="imageA">Imagen:</label>
                            <input type="text" class="form-control" id="imageA" name="imageA" value="{{ book.image }}" #imageA required>
                          </div>

                          <div class="form-group">
                            <label for="fkA">Fk autor:</label>
                            <input type="text" class="form-control" id="fkA" name="fkA" value="{{ book.fk_author }}" #fkA required>
                          </div>
          
                          <button class="btn btn-warning" (click)="updateLibro(book, nameA.value, authorA.value, genreA.value, 
                            synopsisA.value, stockA.value, imageA.value, fkA.value)">
                          Actuaizar</button>
          
                        </form>
                      </div>
                
                    </div>
                  </div>
                </div>

                <button class="btn btn-danger" (click)="deleteLibro(book.id)">Borrar</button>
              </td>

              <td>{{ book.name }}</td>
              <td>{{ book.author }}</td>
              <td>{{ book.genre }}</td>
              <td style="height: 25px;">{{ book.synopsis }}</td>
              <td>{{ book.stock }}</td>
              <td>{{ book.image }}</td>
              <td>{{ book.fk_author }}</td>

            </tr>
          </tbody>

        </table>
      </div>

    </div>

    <!-- ******************************************************tab**************************************************************** -->

    <div id="autor" class="container tab-pane fade"><br>

    </div>

  </div>

</div>